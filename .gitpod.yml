# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart

image:
  file: .gitpod.Dockerfile

tasks:
  - name: Start PostgreSQL
    command: sudo service postgresql start

  - name: Run Liquibase
    command: mvn liquibase:update

  - name: Start Service
    init: echo $SECRET | docker login ghcr.io -u sukalpomitra --password-stdin
    command: docker run -p 8080:8080 -t ghcr.io/sukalpomitra/bcgov-code-challenge:latest

